{"remainingRequest":"/Users/gkeele/dev/ldsmedia/web/node_modules/babel-loader/lib/index.js!/Users/gkeele/dev/ldsmedia/web/node_modules/eslint-loader/index.js??ref--13-0!/Users/gkeele/dev/ldsmedia/web/src/router.js","dependencies":[{"path":"/Users/gkeele/dev/ldsmedia/web/src/router.js","mtime":1569613449000},{"path":"/Users/gkeele/dev/ldsmedia/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gkeele/dev/ldsmedia/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gkeele/dev/ldsmedia/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgRXZlbnRDcmVhdGUgZnJvbSAnLi92aWV3cy9FdmVudENyZWF0ZS52dWUnOwppbXBvcnQgRXZlbnRMaXN0IGZyb20gJy4vdmlld3MvRXZlbnRMaXN0LnZ1ZSc7CmltcG9ydCBFdmVudFNob3cgZnJvbSAnLi92aWV3cy9FdmVudFNob3cudnVlJzsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS9zdG9yZSc7CmltcG9ydCBOb3RGb3VuZCBmcm9tICcuL3ZpZXdzL05vdEZvdW5kLnZ1ZSc7CmltcG9ydCBOZXR3b3JrSXNzdWUgZnJvbSAnLi92aWV3cy9OZXR3b3JrSXNzdWUudnVlJzsKVnVlLnVzZShSb3V0ZXIpOwp2YXIgcm91dGVyID0gbmV3IFJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogW3sKICAgIHBhdGg6ICcvJywKICAgIG5hbWU6ICdldmVudC1saXN0JywKICAgIGNvbXBvbmVudDogRXZlbnRMaXN0LAogICAgcHJvcHM6IHRydWUKICB9LCB7CiAgICBwYXRoOiAnL2V2ZW50L2NyZWF0ZScsCiAgICBuYW1lOiAnZXZlbnQtY3JlYXRlJywKICAgIGNvbXBvbmVudDogRXZlbnRDcmVhdGUKICB9LCB7CiAgICBwYXRoOiAnL2V2ZW50LzppZCcsCiAgICBuYW1lOiAnZXZlbnQtc2hvdycsCiAgICBjb21wb25lbnQ6IEV2ZW50U2hvdywKICAgIHByb3BzOiB0cnVlLAogICAgYmVmb3JlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZUVudGVyKHJvdXRlVG8sIHJvdXRlRnJvbSwgbmV4dCkgewogICAgICBzdG9yZS5kaXNwYXRjaCgnZXZlbnQvZmV0Y2hFdmVudCcsIHJvdXRlVG8ucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHJvdXRlVG8ucGFyYW1zLmV2ZW50ID0gZXZlbnQ7CiAgICAgICAgbmV4dCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgewogICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgIG5hbWU6ICc0MDQnLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICByZXNvdXJjZTogJ2V2ZW50JwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgIG5hbWU6ICduZXR3b3JrLWlzc3VlJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnLzQwNCcsCiAgICBuYW1lOiAnNDA0JywKICAgIGNvbXBvbmVudDogTm90Rm91bmQsCiAgICBwcm9wczogdHJ1ZQogIH0sIHsKICAgIHBhdGg6ICcvbmV0d29yay1pc3N1ZScsCiAgICBuYW1lOiAnbmV0d29yay1pc3N1ZScsCiAgICBjb21wb25lbnQ6IE5ldHdvcmtJc3N1ZQogIH0sIHsKICAgIHBhdGg6ICcqJywKICAgIHJlZGlyZWN0OiB7CiAgICAgIG5hbWU6ICc0MDQnLAogICAgICBwYXJhbXM6IHsKICAgICAgICByZXNvdXJjZTogJ3BhZ2UnCiAgICAgIH0KICAgIH0KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHJvdXRlVG8sIHJvdXRlRnJvbSwgbmV4dCkgewogIE5Qcm9ncmVzcy5zdGFydCgpOwogIG5leHQoKTsKfSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogIE5Qcm9ncmVzcy5kb25lKCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/gkeele/dev/ldsmedia/web/src/router.js"],"names":["Vue","Router","EventCreate","EventList","EventShow","NProgress","store","NotFound","NetworkIssue","use","router","mode","routes","path","name","component","props","beforeEnter","routeTo","routeFrom","next","dispatch","params","id","then","event","catch","error","response","status","resource","redirect","beforeEach","start","afterEach","done"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEAR,GAAG,CAACS,GAAJ,CAAQR,MAAR;AAEA,IAAMS,MAAM,GAAG,IAAIT,MAAJ,CAAW;AACxBU,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEZ,SAHb;AAIEa,IAAAA,KAAK,EAAE;AAJT,GADM,EAON;AACEH,IAAAA,IAAI,EAAE,eADR;AAEEC,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,SAAS,EAAEb;AAHb,GAPM,EAYN;AACEW,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEX,SAHb;AAIEY,IAAAA,KAAK,EAAE,IAJT;AAKEC,IAAAA,WALF,uBAKcC,OALd,EAKuBC,SALvB,EAKkCC,IALlC,EAKwC;AACpCd,MAAAA,KAAK,CACFe,QADH,CACY,kBADZ,EACgCH,OAAO,CAACI,MAAR,CAAeC,EAD/C,EAEGC,IAFH,CAEQ,UAAAC,KAAK,EAAI;AACbP,QAAAA,OAAO,CAACI,MAAR,CAAeG,KAAf,GAAuBA,KAAvB;AACAL,QAAAA,IAAI;AACL,OALH,EAMGM,KANH,CAMS,UAAAC,KAAK,EAAI;AACd,YAAIA,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeC,MAAf,IAAyB,GAA/C,EAAoD;AAClDT,UAAAA,IAAI,CAAC;AAAEN,YAAAA,IAAI,EAAE,KAAR;AAAeQ,YAAAA,MAAM,EAAE;AAAEQ,cAAAA,QAAQ,EAAE;AAAZ;AAAvB,WAAD,CAAJ;AACD,SAFD,MAEO;AACLV,UAAAA,IAAI,CAAC;AAAEN,YAAAA,IAAI,EAAE;AAAR,WAAD,CAAJ;AACD;AACF,OAZH;AAaD;AAnBH,GAZM,EAiCN;AACED,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,IAAI,EAAE,KAFR;AAGEC,IAAAA,SAAS,EAAER,QAHb;AAIES,IAAAA,KAAK,EAAE;AAJT,GAjCM,EAuCN;AACEH,IAAAA,IAAI,EAAE,gBADR;AAEEC,IAAAA,IAAI,EAAE,eAFR;AAGEC,IAAAA,SAAS,EAAEP;AAHb,GAvCM,EA4CN;AACEK,IAAAA,IAAI,EAAE,GADR;AAEEkB,IAAAA,QAAQ,EAAE;AAAEjB,MAAAA,IAAI,EAAE,KAAR;AAAeQ,MAAAA,MAAM,EAAE;AAAEQ,QAAAA,QAAQ,EAAE;AAAZ;AAAvB;AAFZ,GA5CM;AAFgB,CAAX,CAAf;AAqDApB,MAAM,CAACsB,UAAP,CAAkB,UAACd,OAAD,EAAUC,SAAV,EAAqBC,IAArB,EAA8B;AAC9Cf,EAAAA,SAAS,CAAC4B,KAAV;AACAb,EAAAA,IAAI;AACL,CAHD;AAKAV,MAAM,CAACwB,SAAP,CAAiB,YAAM;AACrB7B,EAAAA,SAAS,CAAC8B,IAAV;AACD,CAFD;AAIA,eAAezB,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport EventCreate from './views/EventCreate.vue'\nimport EventList from './views/EventList.vue'\nimport EventShow from './views/EventShow.vue'\nimport NProgress from 'nprogress'\nimport store from '@/store/store'\nimport NotFound from './views/NotFound.vue'\nimport NetworkIssue from './views/NetworkIssue.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'event-list',\n      component: EventList,\n      props: true\n    },\n    {\n      path: '/event/create',\n      name: 'event-create',\n      component: EventCreate\n    },\n    {\n      path: '/event/:id',\n      name: 'event-show',\n      component: EventShow,\n      props: true,\n      beforeEnter(routeTo, routeFrom, next) {\n        store\n          .dispatch('event/fetchEvent', routeTo.params.id)\n          .then(event => {\n            routeTo.params.event = event\n            next()\n          })\n          .catch(error => {\n            if (error.response && error.response.status == 404) {\n              next({ name: '404', params: { resource: 'event' } })\n            } else {\n              next({ name: 'network-issue' })\n            }\n          })\n      }\n    },\n    {\n      path: '/404',\n      name: '404',\n      component: NotFound,\n      props: true\n    },\n    {\n      path: '/network-issue',\n      name: 'network-issue',\n      component: NetworkIssue\n    },\n    {\n      path: '*',\n      redirect: { name: '404', params: { resource: 'page' } }\n    }\n  ]\n})\n\nrouter.beforeEach((routeTo, routeFrom, next) => {\n  NProgress.start()\n  next()\n})\n\nrouter.afterEach(() => {\n  NProgress.done()\n})\n\nexport default router\n"]}]}